(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();let b=[],E=0,x=null,y=null,w=!1;function I(){E=0}const k=new Set;function R(t){!y||k.has(t)||(y.addEventListener(t,e=>{let r=e.target;for(;r&&r!==y;){const a=r.__handlers,n=a==null?void 0:a[t];if(n&&(n.call(r,e),e.cancelBubble))break;r=r.parentElement}}),k.add(t))}function O(){w||(w=!0,Promise.resolve().then(()=>{var o;if(w=!1,!x||!y)return;const t="input,textarea,select",e=document.activeElement;let r=-1,a=null,n=null;if(e&&((o=e.matches)!=null&&o.call(e,t))){r=Array.from(document.querySelectorAll(t)).indexOf(e);try{"selectionStart"in e&&(a=e.selectionStart??null,n=e.selectionEnd??null)}catch{}}if(y.innerHTML="",I(),y.appendChild(C(x)),r>=0){const s=Array.from(y.querySelectorAll(t))[r];if(s!=null&&s.focus){s.focus();try{a!=null&&n!=null&&"setSelectionRange"in s&&s.setSelectionRange(a,n)}catch{}}}}))}function l(t,e,...r){const n=(i=>i.flat(1/0).filter(s=>s!=null&&s!==!1))(r),o={...e||{},children:n};return{type:t,props:o,children:n}}function B(t,...e){return l("fragment",t,...e)}function H(t){return t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}function C(t){if(typeof t=="string"||typeof t=="number")return document.createTextNode(String(t));if(t.type==="fragment"){const n=document.createDocumentFragment();return t.children.forEach(o=>n.appendChild(C(o))),n}if(typeof t.type=="function"){const n=t.type({...t.props||{},children:t.children});return C(n)}const e=document.createElement(t.type),r=t.props||{};let a=null;for(const[n,o]of Object.entries(r))if(!(n==="children"||n==="key")){if(n==="ref"&&typeof o=="function"){o(e);continue}if(/^on[A-Z]/.test(n)&&typeof o=="function"){const i=n.slice(2).toLowerCase();i==="click"||i==="input"||i==="change"?(e.__handlers=e.__handlers||{},e.__handlers[i]=o,R(i)):e.addEventListener(i,o);continue}if(n==="className"){e.setAttribute("class",String(o));continue}if(n==="style"){if(typeof o=="string")e.setAttribute("style",o);else if(o&&typeof o=="object")for(const[i,s]of Object.entries(o))s!=null&&e.style.setProperty(H(i),String(s));continue}if(n==="value"){e instanceof HTMLSelectElement?a=o==null?"":String(o):e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement?e.value=o==null?"":String(o):e.setAttribute("value",String(o));continue}if(n==="checked"&&e instanceof HTMLInputElement){e.checked=!!o;continue}if(typeof o=="boolean"){o&&e.setAttribute(n,"");continue}e.setAttribute(n,String(o))}return t.children.forEach(n=>e.appendChild(C(n))),a!==null&&e instanceof HTMLSelectElement&&(e.value=a),e}function F(t,e){x=t,y=e,e.innerHTML="",I(),e.appendChild(C(t))}function h(t){const e=E++;return b[e]===void 0&&(b[e]=typeof t=="function"?t():t),[()=>b[e],n=>{const o=typeof n=="function"?n(b[e]):n;b[e]=o,O()}]}const T=({title:t,className:e="",style:r,onClick:a,children:n})=>l("div",{className:`card ${e}`,style:r,onClick:a},t&&l("div",{className:"card-title"},t),l("div",{className:"card-body"},n)),q=({isOpen:t,title:e,onClose:r,className:a="",style:n,children:o})=>{if(!t)return B(null);const i=s=>{s.target===s.currentTarget&&r()};return l("div",{className:`modal-overlay ${a}`,style:n,onClick:i},l("div",{className:"modal"},e&&l("div",{className:"modal-title"},e),l("div",{className:"modal-body"},o),l("button",{className:"modal-close",onClick:()=>r()},"Close")))},W=({onSubmit:t,className:e="",style:r,children:a})=>l("form",{className:e,style:r,onSubmit:n=>{n.preventDefault(),t(n)}},a),$=({type:t="text",name:e,value:r,placeholder:a,disabled:n,className:o="",style:i,onChange:s})=>l("input",{type:t,name:e,className:o,style:i,value:r,placeholder:a,disabled:!!n,onInput:c=>s(c.target.value,c)});class j{constructor(){this.cats=["A","B","C"]}generate(e=12,r){const a=r&&this.cats.includes(r)?r:void 0;return Array.from({length:e},(n,o)=>({x:o,y:Math.round(10+Math.random()*90),label:`P${o+1}`,category:a??this.cats[o%this.cats.length],t:Date.now()}))}}const K=({type:t,data:e,height:r=340})=>{let a=0;return l("canvas",{ref:o=>{o&&(cancelAnimationFrame(a),a=requestAnimationFrame(()=>{var g;const i=Math.max(320,Math.floor(((g=o.parentElement)==null?void 0:g.clientWidth)||640)),s=r,c=Math.max(1,window.devicePixelRatio||1),d=Math.floor(i*c),f=Math.floor(s*c);(o.width!==d||o.height!==f)&&(o.width=d,o.height=f,o.style.width=i+"px",o.style.height=s+"px");const u=o.getContext("2d");u.save(),u.scale(c,c),u.clearRect(0,0,i,s),t==="bar"?Z(u,e,i,s):t==="line"?J(u,e,i,s):U(u,e,i,s),u.restore()}))},style:{display:"block",width:"100%",maxWidth:"100%",border:"1px solid #ddd",borderRadius:8}})},N=t=>Math.max(1,...t.map(e=>e.y));function Z(t,e,r,a){const o=r-48,i=a-24*2,s=o/Math.max(1,e.length),c=N(e);e.forEach((d,f)=>{const u=24+f*s,g=d.y/c*i;t.fillStyle=`hsl(${f/Math.max(1,e.length)*360},60%,55%)`,t.fillRect(u+4,a-24-g,Math.max(1,s-8),g)}),t.strokeStyle="#888",t.beginPath(),t.moveTo(24+.5,a-24+.5),t.lineTo(r-24+.5,a-24+.5),t.stroke()}function J(t,e,r,a){const o=r-48,i=a-24*2,s=N(e);t.strokeStyle="#333",t.lineWidth=2,t.lineCap="round",t.beginPath(),e.forEach((c,d)=>{const f=24+d/Math.max(1,e.length-1)*o,u=a-24-c.y/s*i;d?t.lineTo(f,u):t.moveTo(f,u)}),t.stroke(),t.fillStyle="#333",e.forEach((c,d)=>{const f=24+d/Math.max(1,e.length-1)*o,u=a-24-c.y/s*i;t.beginPath(),t.arc(f,u,3,0,Math.PI*2),t.fill()})}function U(t,e,r,a){const n=r/2,o=a/2,i=Math.min(r,a)*.35,s=e.reduce((d,f)=>d+f.y,0)||1;let c=0;e.forEach((d,f)=>{const u=c+d.y/s*Math.PI*2;t.beginPath(),t.moveTo(n,o),t.fillStyle=`hsl(${f/Math.max(1,e.length)*360},60%,55%)`,t.arc(n,o,i,c,u),t.closePath(),t.fill(),c=u})}const M=({onClick:t,className:e="",title:r,children:a})=>l("button",{className:e,onClick:t,title:r},a),V=({initialCount:t=0})=>{const[e,r]=h(t);return l("div",{className:"counter"},l("h2",null,"Count: ",String(e())),l("div",{className:"buttons"},l(M,{onClick:()=>r(a=>a+1),title:"+1"},"+"),l(M,{onClick:()=>r(a=>a-1),title:"-1"},"-"),l(M,{onClick:()=>r(t)},"Reset")))},X=({todo:t,onToggle:e,onDelete:r})=>{const a="item"+(t.completed?" completed":"");return l("div",{className:a},l("input",{type:"checkbox",checked:t.completed,onChange:()=>e(t.id)}),l("span",{className:"text"},t.text),l("button",{onClick:()=>r(t.id)},"Delete"))},Y=({onAdd:t})=>{const[e,r]=h(""),a=i=>{i&&requestAnimationFrame(()=>{const s=i.value.length;i.focus();try{i.setSelectionRange(s,s)}catch{}})},n=i=>i.preventDefault();return l("form",{onSubmit:i=>{i.preventDefault();const s=e().trim();s&&(t(s),r(""))}},l("input",{ref:a,type:"text",placeholder:"Add a todo...",value:e(),onInput:i=>r(i.target.value),name:"todo"}),l("button",{type:"submit",onMouseDown:n},"Add"))},z=()=>{const[t,e]=h([]),r=s=>{const c=Date.now();e([{id:c,text:s,completed:!1,createdAt:c},...t()])},a=s=>{e(t().map(c=>c.id===s?{...c,completed:!c.completed}:c))},n=s=>{e(t().filter(c=>c.id!==s))},o=t().length,i=t().filter(s=>s.completed).length;return l("section",{className:"todo"},l("header",null,"Todo List"),l(Y,{onAdd:r}),l("div",null,t().map(s=>l(X,{key:s.id,todo:s,onToggle:a,onDelete:n}))),l("div",{className:"muted"},"Total: ",String(o)," | Completed: ",String(i)))},A=new j;let v=null;const G=()=>{const[t,e]=h("bar"),[r,a]=h("All"),[n,o]=h("12"),[i,s]=h(A.generate(12)),[c,d]=h(!1),[f,u]=h(!1),g=p=>p.preventDefault(),S=(p,m)=>{const _=Math.max(1,Math.min(100,parseInt(n()||"12",10)||12)),L=m??r();s(A.generate(_,L==="All"?void 0:L))},D=()=>{v||(v=window.setInterval(()=>{const p=parseInt(n()||"12",10)||12,m=r();s(A.generate(p,m==="All"?void 0:m))},1e3),u(!0))},P=()=>{v&&(clearInterval(v),v=null),u(!1)};return l("div",{style:{padding:16,fontFamily:"system-ui",lineHeight:1.3}},l("h1",{style:{marginBottom:12}},"Exercise 4.1 — Dashboard"),l(T,{title:"Controls",style:{marginBottom:12,padding:12,border:"1px solid #eee",borderRadius:8}},l(W,{onSubmit:()=>S()},l("div",{style:{display:"flex",gap:10,flexWrap:"wrap",alignItems:"center"}},l("label",null,"Chart"),l("select",{value:t(),onChange:p=>e(p.target.value),onInput:p=>e(p.target.value)},l("option",{value:"bar"},"Bar"),l("option",{value:"line"},"Line"),l("option",{value:"pie"},"Pie")),l("label",null,"Category"),l("select",{value:r(),onChange:p=>{const m=p.target.value;a(m),S(void 0,m)},onInput:p=>{const m=p.target.value;a(m),S(void 0,m)}},l("option",{value:"All"},"All"),l("option",{value:"A"},"A"),l("option",{value:"B"},"B"),l("option",{value:"C"},"C")),l("label",null,"Points"),l($,{value:n(),onChange:p=>o(p),style:{width:72}}),l("button",{type:"submit",onMouseDown:g},"Refresh"),l("label",{style:{display:"inline-flex",alignItems:"center",gap:6}},l("input",{type:"checkbox",checked:f(),onChange:p=>p.target.checked?D():P()}),"Live"),l("button",{type:"button",onMouseDown:g,onClick:()=>d(!0)},"Help")))),l(T,{title:"Chart",style:{padding:12,border:"1px solid #eee",borderRadius:8,marginBottom:12}},l(K,{type:t(),data:i(),height:340})),l(T,{title:"Counter",style:{padding:12,border:"1px solid #eee",borderRadius:8,marginBottom:12}},l(V,{initialCount:0})),l(T,{title:"Todo",style:{padding:12,border:"1px solid #eee",borderRadius:8}},l(z,null)),l(q,{isOpen:c(),onClose:()=>d(!1),title:"How this works"},l("p",null,"Uses custom JSX runtime. “Live” simulates real-time updates per Exercise 4.1 requirements.")))},Q=document.getElementById("app");F(l(G,null),Q);
